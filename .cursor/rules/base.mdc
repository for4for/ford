# Ford Bayi Otomasyonu - Form TasarÄ±m StandartlarÄ±

## âš ï¸ Ã–NEMLÄ°: TutarlÄ±lÄ±k KuralÄ±

**Form deÄŸiÅŸiklikleri yapÄ±lÄ±rken hem Dealer (bayi) hem Backoffice tarafÄ±nda aynÄ± deÄŸiÅŸiklik yapÄ±lmalÄ±dÄ±r!**

Her form iÃ§in ÅŸu dosyalar kontrol edilmeli:
- `resources/[resource]/Create.tsx` - Backoffice oluÅŸturma
- `resources/[resource]/Edit.tsx` - Backoffice dÃ¼zenleme  
- `resources/[resource]/Show.tsx` - Backoffice gÃ¶rÃ¼ntÃ¼leme
- Dealer panelinde karÅŸÄ±lÄ±k gelen sayfalar (varsa)

Ã–rnek: Kampanya formunda alan eklenirse/kaldÄ±rÄ±lÄ±rsa:
- `CampaignRequestCreate.tsx`
- `CampaignRequestEdit.tsx`
- `CampaignRequestShow.tsx`
- Dealer tarafÄ±ndaki kampanya sayfalarÄ±

---

## ğŸ¨ Form GÃ¶rÃ¼nÃ¼m StandartlarÄ±

TÃ¼m formlar aÅŸaÄŸÄ±daki standartlara uygun olmalÄ±dÄ±r.

### KullanÄ±lacak Componentler

Form oluÅŸtururken `src/components/FormFields.tsx` dosyasÄ±ndaki componentler kullanÄ±lmalÄ±dÄ±r:

```tsx
import {
  FormContainer,      // Form sayfa container'Ä± (gri arka plan)
  FormCard,           // Form kartÄ± (beyaz, border'lÄ±)
  FormHeader,         // Sayfa baÅŸlÄ±ÄŸÄ± (geri butonu + title + subtitle)
  Section,            // BÃ¶lÃ¼m baÅŸlÄ±ÄŸÄ±
  Field,              // Alan wrapper'Ä± (label + hint + error)
  TextInputField,     // Metin inputu (onBlur validation)
  SelectInputField,   // Dropdown
  PhoneInputField,    // Telefon inputu (format + validation)
  PasswordInputField, // Åifre inputu (min length + eÅŸleÅŸme kontrolÃ¼)
  inputStyles,        // Input stilleri
  formToolbarStyles,  // Toolbar stilleri
  cancelButtonStyles, // Ä°ptal butonu stilleri
  saveButtonStyles,   // Kaydet butonu stilleri
} from '../../components/FormFields';

import { requiredValidator, emailValidator } from '../../utils/validation';
```

### Form YapÄ±sÄ±

```tsx
<Create actions={false} sx={{ '& .RaCreate-main': { mt: 0 } }}>
  <FormContainer maxWidth={640}>
    <FormHeader
      title="Yeni KayÄ±t"
      subtitle="AÃ§Ä±klama metni"
      onBack={handleBack}
    />
    
    <FormCard>
      <SimpleForm toolbar={<CustomToolbar />} sx={{ p: 0 }}>
        <Section title="BÃ¶lÃ¼m BaÅŸlÄ±ÄŸÄ±" first />
        
        <Box sx={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 3 }}>
          <TextInputField source="field1" label="Alan 1" required />
          <TextInputField source="field2" label="Alan 2" />
        </Box>
        
        <Section title="DiÄŸer BÃ¶lÃ¼m" />
        {/* ... */}
      </SimpleForm>
    </FormCard>
  </FormContainer>
</Create>
```

### Input Tipleri

#### TextInputField
```tsx
<TextInputField
  source="email"
  label="E-posta"
  type="email"        // 'text' | 'email' - email iÃ§in format kontrolÃ¼
  required            // Zorunlu alan iÅŸareti (*)
  hint="AÃ§Ä±klama"     // Alt bilgi metni
  validate={[requiredValidator(), emailValidator()]}
/>
```

#### PasswordInputField
```tsx
// Normal ÅŸifre alanÄ±
<PasswordInputField
  source="password"
  label="Åifre"
  required
  hint="En az 6 karakter"
  minLength={6}
/>

// Åifre tekrar alanÄ±
<PasswordInputField
  source="password_confirm"
  label="Åifre Tekrar"
  required
  confirmOf="password"  // Ana ÅŸifre field adÄ±
/>
```

#### PhoneInputField
```tsx
<PhoneInputField
  source="phone"
  label="Telefon"
  required
  hint="0(5XX) XXX XX XX formatÄ±nda"
/>
```

#### SelectInputField
```tsx
<SelectInputField
  source="status"
  label="Durum"
  required
  choices={[
    { id: 'aktif', name: 'Aktif' },
    { id: 'pasif', name: 'Pasif' },
  ]}
  validate={[requiredValidator()]}
/>
```

### Grid Layout

```tsx
// 2 kolon
<Box sx={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 3 }}>

// 3 kolon
<Box sx={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: 3 }}>

// 2:1 oran
<Box sx={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: 3 }}>
```

### Validation

#### Ã‡ift KatmanlÄ± Validasyon
1. **onBlur** - KullanÄ±cÄ± alandan Ã§Ä±ktÄ±ÄŸÄ±nda anÄ±nda gÃ¶rsel feedback
2. **Submit** - Kaydet'e basÄ±ldÄ±ÄŸÄ±nda form gÃ¶nderilemez

#### Validators (src/utils/validation.ts)
```tsx
requiredValidator('Ã–zel mesaj')     // Zorunlu alan
emailValidator()                     // E-posta format kontrolÃ¼
phoneValidator()                     // Telefon format kontrolÃ¼ (11 hane)
passwordMatchValidator('password')   // Åifre eÅŸleÅŸme kontrolÃ¼
```

### Renk Paleti

| KullanÄ±m | Renk |
|----------|------|
| Arka plan | `#f9fafb` |
| Kart | `#ffffff` |
| Border | `#e5e7eb` |
| BaÅŸlÄ±k | `#111827` |
| Label | `#374151` |
| Hint text | `#6b7280` |
| Hata | `#ef4444` |
| Focus border | `#3b82f6` |
| Buton (primary) | `#1a1a2e` |
| Buton hover | `#2d2d44` |

### Spacing

| Eleman | DeÄŸer |
|--------|-------|
| FormContainer padding | `px: 4, py: 5` |
| FormCard padding | `p: 4` |
| Grid gap | `gap: 3` (24px) |
| Section margin-top | `mt: 3` |
| Input border-radius | `8px` |
| Card border-radius | `12px` |
| Button border-radius | `8px` |

### Toolbar

```tsx
const CustomToolbar = ({ onCancel }: { onCancel: () => void }) => (
  <Toolbar sx={formToolbarStyles}>
    <Button onClick={onCancel} sx={cancelButtonStyles}>
      VazgeÃ§
    </Button>
    <SaveButton label="Kaydet" sx={saveButtonStyles} />
  </Toolbar>
);
```

---

## ğŸ“ Dosya YapÄ±sÄ±

```
src/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ FormFields.tsx      # TÃ¼m form componentleri
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ validation.ts       # Validation fonksiyonlarÄ±
â””â”€â”€ resources/
    â”œâ”€â”€ users/
    â”‚   â”œâ”€â”€ UserCreate.tsx  # Ã–rnek form
    â”‚   â””â”€â”€ UserEdit.tsx
    â””â”€â”€ dealers/
        â”œâ”€â”€ DealerCreate.tsx
        â””â”€â”€ DealerEdit.tsx
```

---

## ğŸ·ï¸ Badge/Chip StandartlarÄ±

TÃ¼m liste sayfalarÄ±nda durum gÃ¶sterimi iÃ§in **merkezi stiller** kullanÄ±lmalÄ±dÄ±r.

### KullanÄ±m

```tsx
import { statusColors, roleColors, getChipStyles } from '../../styles/listStyles';

// Ã–rnek: Durum badge'i
const config = statusColors['aktif'];
return <Chip label={config.label} size="small" sx={getChipStyles(config)} />;
```

### Mevcut Renk Paleti (listStyles.ts)

| Durum | Arkaplan | YazÄ± | Ã–rnek |
|-------|----------|------|-------|
| **aktif** | `#166534` | `#ffffff` | âœ… YeÅŸil (solid) |
| **pasif** | `#4b5563` | `#ffffff` | Gri (solid) |
| **onay_bekliyor** | `#b45309` | `#ffffff` | ğŸŸ  Turuncu (solid) |
| **silindi** | `#991b1b` | `#ffffff` | ğŸ”´ KÄ±rmÄ±zÄ± (solid) |
| **reddedildi** | `#991b1b` | `#ffffff` | ğŸ”´ KÄ±rmÄ±zÄ± (solid) |
| **onaylandi** | `#166534` | `#ffffff` | âœ… YeÅŸil (solid) |
| **yayinda** | `#1d4ed8` | `#ffffff` | ğŸ”µ Mavi (solid) |

### Ã–nemli Kurallar

1. **Asla inline renk kullanmayÄ±n** - Her zaman `statusColors` veya `roleColors` kullanÄ±n
2. **Yeni durum eklerken** `listStyles.ts` dosyasÄ±na ekleyin
3. **getChipStyles()** fonksiyonunu kullanÄ±n - tutarlÄ± font, height, borderRadius saÄŸlar
4. **Solid renkler** tercih edilir (arka plan renkli, yazÄ± beyaz)

---

## âš ï¸ Ã–nemli Notlar

1. **TÃ¼m formlar** `FormFields.tsx` componentlerini kullanmalÄ±
2. **Yeni form oluÅŸtururken** mevcut formlarÄ± (UserCreate, DealerCreate) Ã¶rnek alÄ±n
3. **Validasyon** hem onBlur hem submit'te Ã§alÄ±ÅŸmalÄ±
4. **Section first prop** - Ä°lk section iÃ§in `first` prop kullanÄ±n (margin-top: 0)
5. **confirmOf prop** - Åifre tekrar alanlarÄ± iÃ§in ana ÅŸifre field adÄ±nÄ± belirtin
6. **Badge/Chip** - Her zaman merkezi `statusColors` kullanÄ±n, asla inline renk yazmayÄ±n

---

## ğŸš€ Deployment

### Git Push Komutu

Pipeline'Ä± tetiklemek iÃ§in ÅŸu komutu kullanÄ±n:

```bash
git push origin tofas:main
```

**Ã–NEMLÄ°:** `git push origin tofas` pipeline'Ä± tetiklemez! `tofas:main` ÅŸeklinde main branch'ine push yapÄ±lmalÄ±dÄ±r.
